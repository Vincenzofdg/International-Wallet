{"ast":null,"code":"import _defineProperty from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import FormSelect from'./FormSelect';import{setExpense}from'../actions';var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.state={value:'',description:'',currency:'USD',method:'Dinheiro',tag:'Alimentação'};_this.generateMethods=_this.generateMethodsOptions.bind(_assertThisInitialized(_this));_this.generateTags=_this.generateTagOptions.bind(_assertThisInitialized(_this));_this.generateCurrencies=_this.generateCurrencyOptions.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.getCurrencies=_this.getCurrencies.bind(_assertThisInitialized(_this));return _this;}_createClass(Form,[{key:\"getCurrencies\",value:function(){var _getCurrencies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,currencies;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://economia.awesomeapi.com.br/json/all');case 2:response=_context.sent;_context.next=5;return response.json();case 5:currencies=_context.sent;return _context.abrupt(\"return\",currencies);case 7:case\"end\":return _context.stop();}}},_callee);}));function getCurrencies(){return _getCurrencies.apply(this,arguments);}return getCurrencies;}()},{key:\"handleChange\",value:function handleChange(_ref){var _ref$target=_ref.target,name=_ref$target.name,value=_ref$target.value;this.setState(_defineProperty({},name,value));}},{key:\"generateMethodsOptions\",value:function generateMethodsOptions(){var methods=['Dinheiro','Cartão de crédito','Cartão de débito'];return methods.map(function(method,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:method},method);});}},{key:\"generateTagOptions\",value:function generateTagOptions(){var tags=['Alimentação','Lazer','Trabalho','Transporte','Saúde'];return tags.map(function(tag,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:tag},tag);});}},{key:\"generateCurrencyOptions\",value:function generateCurrencyOptions(){var currencies=this.props.currencies;return currencies.map(function(currency,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:currency},currency);});}},{key:\"handleClick\",value:function(){var _handleClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state,value,description,currency,method,tag,addExpense,currencies,expense;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=this.state,value=_this$state.value,description=_this$state.description,currency=_this$state.currency,method=_this$state.method,tag=_this$state.tag;addExpense=this.props.addExpense;_context2.next=4;return this.getCurrencies();case 4:currencies=_context2.sent;expense={value:value,description:description,currency:currency,method:method,tag:tag,exchangeRates:currencies};addExpense(expense);case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleClick(){return _handleClick.apply(this,arguments);}return handleClick;}()// eslint-disable-next-line max-lines-per-function\n},{key:\"render\",value:function render(){var _this$state2=this.state,value=_this$state2.value,description=_this$state2.description,currency=_this$state2.currency,method=_this$state2.method,tag=_this$state2.tag;return/*#__PURE__*/React.createElement(\"form\",{className:\"d-flex justify-content-around align-items-center pt-2 pb-2\",style:{backgroundColor:'#E8505B'}},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"value\"},\"Valor:\",/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",onChange:this.handleChange,value:value,id:\"value\",name:\"value\"})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"description\"},\"Descri\\xE7\\xE3o:\",/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:this.handleChange,value:description,id:\"description\",name:\"description\"})),/*#__PURE__*/React.createElement(FormSelect,{id:\"currency\",value:currency,onChange:this.handleChange,title:\"Moeda:\",options:this.generateCurrencies()}),/*#__PURE__*/React.createElement(FormSelect,{id:\"method\",value:method,onChange:this.handleChange,title:\"M\\xE9todo de Pagamento:\",options:this.generateMethods()}),/*#__PURE__*/React.createElement(FormSelect,{id:\"tag\",value:tag,onChange:this.handleChange,title:\"Tag:\",options:this.generateTags()}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.handleClick,className:\"btn btn-dark p-3\"},\"Adicionar Despesa\"));}}]);return Form;}(Component);var mapStateToProps=function mapStateToProps(state){return{currencies:state.wallet.currencies};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addExpense:function addExpense(expense){return dispatch(setExpense(expense));}};};export default connect(mapStateToProps,mapDispatchToProps)(Form);","map":{"version":3,"names":["React","Component","connect","FormSelect","setExpense","Form","props","state","value","description","currency","method","tag","generateMethods","generateMethodsOptions","bind","generateTags","generateTagOptions","generateCurrencies","generateCurrencyOptions","handleClick","handleChange","getCurrencies","fetch","response","json","currencies","target","name","setState","methods","map","index","tags","addExpense","expense","exchangeRates","backgroundColor","mapStateToProps","wallet","mapDispatchToProps","dispatch"],"sources":["/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/src/components/Form.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport FormSelect from './FormSelect';\nimport { setExpense } from '../actions';\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      description: '',\n      currency: 'USD',\n      method: 'Dinheiro',\n      tag: 'Alimentação',\n    };\n    this.generateMethods = this.generateMethodsOptions.bind(this);\n    this.generateTags = this.generateTagOptions.bind(this);\n    this.generateCurrencies = this.generateCurrencyOptions.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.getCurrencies = this.getCurrencies.bind(this);\n  }\n\n  async getCurrencies() {\n    const response = await fetch('https://economia.awesomeapi.com.br/json/all');\n    const currencies = await response.json();\n    return currencies;\n  }\n\n  handleChange({ target: { name, value } }) {\n    this.setState({ [name]: value });\n  }\n\n  generateMethodsOptions() {\n    const methods = ['Dinheiro', 'Cartão de crédito', 'Cartão de débito'];\n    return methods.map((method, index) => (\n      <option key={ index } value={ method }>{method}</option>\n    ));\n  }\n\n  generateTagOptions() {\n    const tags = ['Alimentação', 'Lazer', 'Trabalho', 'Transporte', 'Saúde'];\n    return tags.map((tag, index) => (\n      <option key={ index } value={ tag }>{tag}</option>\n    ));\n  }\n\n  generateCurrencyOptions() {\n    const { currencies } = this.props;\n    return currencies.map((currency, index) => (\n      <option key={ index } value={ currency }>{currency}</option>\n    ));\n  }\n\n  async handleClick() {\n    const { value, description, currency, method, tag } = this.state;\n    const { addExpense } = this.props;\n    const currencies = await this.getCurrencies();\n    const expense = {\n      value,\n      description,\n      currency,\n      method,\n      tag,\n      exchangeRates: currencies,\n    };\n    addExpense(expense);\n  }\n\n  // eslint-disable-next-line max-lines-per-function\n  render() {\n    const { value, description, currency, method, tag } = this.state;\n    return (\n      <form\n        className=\"d-flex justify-content-around align-items-center pt-2 pb-2\"\n        style={ { backgroundColor: '#E8505B' } }\n      >\n        <label htmlFor=\"value\">\n          Valor:\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            onChange={ this.handleChange }\n            value={ value }\n            id=\"value\"\n            name=\"value\"\n          />\n        </label>\n        <label htmlFor=\"description\">\n          Descrição:\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            onChange={ this.handleChange }\n            value={ description }\n            id=\"description\"\n            name=\"description\"\n          />\n        </label>\n        <FormSelect\n          id=\"currency\"\n          value={ currency }\n          onChange={ this.handleChange }\n          title=\"Moeda:\"\n          options={ this.generateCurrencies() }\n        />\n        <FormSelect\n          id=\"method\"\n          value={ method }\n          onChange={ this.handleChange }\n          title=\"Método de Pagamento:\"\n          options={ this.generateMethods() }\n        />\n        <FormSelect\n          id=\"tag\"\n          value={ tag }\n          onChange={ this.handleChange }\n          title=\"Tag:\"\n          options={ this.generateTags() }\n        />\n        <button\n          type=\"button\"\n          onClick={ this.handleClick }\n          className=\"btn btn-dark p-3\"\n        >\n          Adicionar Despesa\n\n        </button>\n      </form>\n    );\n  }\n}\n\nForm.propTypes = {\n  currencies: PropTypes.array,\n}.isRequired;\n\nconst mapStateToProps = (state) => ({\n  currencies: state.wallet.currencies,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addExpense: (expense) => dispatch(setExpense(expense)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}