{"ast":null,"code":"import _defineProperty from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import Lottie from'react-lottie';import animationData from'../lottie/wallet.json';import'../styles/login.css';import{setUserEmail}from'../actions';import{emailVerification,passwordVerification}from'../services/auth';var defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={email:'',emailCondition:false,passwordCondition:false};_this.handleCondition=_this.handleCondition.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"handleChange\",value:function handleChange(_ref){var _ref$target=_ref.target,value=_ref$target.value,name=_ref$target.name;this.setState(_defineProperty({},name,value));}},{key:\"handleCondition\",value:function handleCondition(_ref2){var _ref2$target=_ref2.target,value=_ref2$target.value,name=_ref2$target.name;if(name==='email'){var emailCondition=emailVerification(value);this.setState({emailCondition:emailCondition});}else if(name==='password'){var passwordCondition=passwordVerification(value);this.setState({passwordCondition:passwordCondition});}}},{key:\"handleClick\",value:function handleClick(){var email=this.state.email;var _this$props=this.props,history=_this$props.history,dispatchEmail=_this$props.dispatchEmail;dispatchEmail(email);history.push('/carteira');}// eslint-disable-next-line max-lines-per-function\n},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,emailCondition=_this$state.emailCondition,passwordCondition=_this$state.passwordCondition;var buttonDisabled=!(emailCondition&&passwordCondition);return/*#__PURE__*/React.createElement(\"main\",{className:\"login-page d-flex\"},/*#__PURE__*/React.createElement(\"section\",{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,height:500})),/*#__PURE__*/React.createElement(\"section\",{className:\"w-50 d-flex flex-column justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"form\",{className:\"form-login d-flex flex-column align-items-center rounded text-center p-5\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-white fw-bold\"},\"Login\"),/*#__PURE__*/React.createElement(\"input\",{\"data-testid\":\"email-input\",type:\"email\",className:\"form-control mt-2\",placeholder:\"Email\",name:\"email\",onChange:function onChange(event){_this2.handleChange(event);_this2.handleCondition(event);},id:\"email\"}),/*#__PURE__*/React.createElement(\"input\",{\"data-testid\":\"password-input\",type:\"password\",className:\"form-control mt-2\",placeholder:\"Senha\",name:\"password\",onChange:this.handleCondition,id:\"password\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"fw-bold fs-1 btn btn-danger mt-4 w-75\",onClick:this.handleClick,disabled:buttonDisabled},\"Entrar\"))));}}]);return Login;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{dispatchEmail:function dispatchEmail(email){return dispatch(setUserEmail(email));}};};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"names":["React","connect","Lottie","animationData","setUserEmail","emailVerification","passwordVerification","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","Login","props","state","email","emailCondition","passwordCondition","handleCondition","bind","handleChange","handleClick","target","value","name","setState","history","dispatchEmail","push","buttonDisabled","event","Component","mapDispatchToProps","dispatch"],"sources":["/home/vfdgiacomo/Downloads/Projetos/trybewallet-master/src/pages/Login.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Lottie from 'react-lottie';\nimport animationData from '../lottie/wallet.json';\nimport '../styles/login.css';\n\nimport { setUserEmail } from '../actions';\nimport { emailVerification, passwordVerification } from '../services/auth';\n\nconst defaultOptions = {\n  loop: true,\n  autoplay: true,\n  animationData,\n  rendererSettings: {\n    preserveAspectRatio: 'xMidYMid slice',\n  },\n};\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      emailCondition: false,\n      passwordCondition: false,\n    };\n    this.handleCondition = this.handleCondition.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleChange({ target: { value, name } }) {\n    this.setState({ [name]: value });\n  }\n\n  handleCondition({ target: { value, name } }) {\n    if (name === 'email') {\n      const emailCondition = emailVerification(value);\n      this.setState({ emailCondition });\n    } else if (name === 'password') {\n      const passwordCondition = passwordVerification(value);\n      this.setState({ passwordCondition });\n    }\n  }\n\n  handleClick() {\n    const { email } = this.state;\n    const { history, dispatchEmail } = this.props;\n    dispatchEmail(email);\n    history.push('/carteira');\n  }\n\n  // eslint-disable-next-line max-lines-per-function\n  render() {\n    const { emailCondition, passwordCondition } = this.state;\n    const buttonDisabled = !(emailCondition && passwordCondition);\n    return (\n      <main className=\"login-page d-flex\">\n        <section className=\"d-flex align-items-center\">\n          <Lottie\n            options={ defaultOptions }\n            height={ 500 }\n          />\n        </section>\n        <section\n          className=\"w-50 d-flex flex-column\n          justify-content-center align-items-center\"\n        >\n          <form\n            className=\"form-login d-flex flex-column align-items-center\n            rounded text-center p-5\"\n          >\n            <h1 className=\"text-white fw-bold\">Login</h1>\n            <input\n              data-testid=\"email-input\"\n              type=\"email\"\n              className=\"form-control mt-2\"\n              placeholder=\"Email\"\n              name=\"email\"\n              onChange={ (event) => {\n                this.handleChange(event);\n                this.handleCondition(event);\n              } }\n              id=\"email\"\n            />\n            <input\n              data-testid=\"password-input\"\n              type=\"password\"\n              className=\"form-control mt-2\"\n              placeholder=\"Senha\"\n              name=\"password\"\n              onChange={ this.handleCondition }\n              id=\"password\"\n            />\n            <button\n              type=\"button\"\n              className=\"fw-bold fs-1 btn btn-danger mt-4 w-75\"\n              onClick={ this.handleClick }\n              disabled={ buttonDisabled }\n            >\n              Entrar\n            </button>\n          </form>\n        </section>\n      </main>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n  dispatchEmail: PropTypes.func,\n}.isRequired;\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchEmail: (email) => dispatch(setUserEmail(email)),\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}